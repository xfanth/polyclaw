# =============================================================================
# OpenClaw/PicoClaw/IronClaw Docker Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# =============================================================================

# =============================================================================
# Upstream Selection
# =============================================================================
# Choose which upstream to use: "zeroclaw", "openclaw", "picoclaw", or "ironclaw"
# - zeroclaw: ZeroClaw from https://github.com/zeroclaw-labs/zeroclaw (RECOMMENDED)
# - openclaw: Official OpenClaw from https://github.com/openclaw/openclaw
# - picoclaw: PicoClaw from Sipeed at https://github.com/sipeed/picoclaw
# - ironclaw: IronClaw from NEAR AI at https://github.com/nearai/ironclaw
UPSTREAM=zeroclaw

# Upstream version/branch to build (default: main)
# For ZeroClaw: main, zc_main, or a specific tag
# For OpenClaw: main, oc_main, or a specific tag (e.g., v2026.2.1)
# For PicoClaw: main, pc_main, or a specific tag
# For IronClaw: main, ic_main, or a specific tag
UPSTREAM_VERSION=main

# =============================================================================
# Docker Image Configuration
# =============================================================================
# Use pre-built image from GitHub Packages (recommended)
# Image is automatically selected based on UPSTREAM variable:
#   - UPSTREAM=zeroclaw → ghcr.io/xfanth/zeroclaw:latest
#   - UPSTREAM=openclaw → ghcr.io/xfanth/openclaw:latest
#   - UPSTREAM=picoclaw → ghcr.io/xfanth/picoclaw:latest
#   - UPSTREAM=ironclaw → ghcr.io/xfanth/ironclaw:latest
OPENCLAW_IMAGE=ghcr.io/xfanth/${UPSTREAM:-openclaw}:latest

# Or build locally (uncomment to use)
# For ZeroClaw local build:
# OPENCLAW_IMAGE=zeroclaw:local
# For OpenClaw local build:
# OPENCLAW_IMAGE=openclaw:local
# For PicoClaw local build:
# OPENCLAW_IMAGE=picoclaw:local
# For IronClaw local build:
# OPENCLAW_IMAGE=ironclaw:local

# Browser sidecar image (custom image with CDP and noVNC)
# noVNC viewer available at http://localhost:8080/browser/
BROWSER_IMAGE=ghcr.io/xfanth/cdp_vnc_browser:latest

# =============================================================================
# AI Provider API Keys (at least one required)
# =============================================================================

# Z.AI (GLM models)
ZAI_API_KEY=

# Moonshot Kimi (Kimi K2.5, etc.)
KIMI_API_KEY=

# GitHub Copilot
COPILOT_GITHUB_TOKEN=

# Google Gemini
GEMINI_API_KEY=

# Groq (fast inference)
GROQ_API_KEY=

# Cerebras
CEREBRAS_API_KEY=

# OpenRouter (multi-provider)
OPENROUTER_API_KEY=

# OpenCode
OPENCODE_API_KEY=

# Anthropic (Claude)
ANTHROPIC_API_KEY=

# OpenAI (GPT models)
OPENAI_API_KEY=

# xAI (Grok)
XAI_API_KEY=

# Mistral
MISTRAL_API_KEY=

# Venice
VENICE_API_KEY=

# Moonshot
MOONSHOT_API_KEY=

# Minimax
MINIMAX_API_KEY=

# AI Gateway
AI_GATEWAY_API_KEY=

# Synthetic
SYNTHETIC_API_KEY=

# Xiaomi
XIAOMI_API_KEY=

# =============================================================================
# AWS Bedrock (optional)
# =============================================================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
# AWS_SESSION_TOKEN=
# BEDROCK_PROVIDER_FILTER=anthropic

# =============================================================================
# Ollama (Local Models - optional)
# =============================================================================
# Set to your Ollama server URL to enable
# OLLAMA_BASE_URL=http://host.docker.internal:11434

# =============================================================================
# Deepgram (Audio Transcription - optional)
# =============================================================================
# DEEPGRAM_API_KEY=

# =============================================================================
# Model Selection
# =============================================================================
# Override the default primary model
# Format: provider/model-id
# Examples:
#   - anthropic/claude-sonnet-4-5-20250929
#   - openrouter/anthropic/claude-opus-4-5
#   - google/gemini-2.5-pro
#   - opencode/kimi-k2.5
#   - zai/glm-4.7
OPENCLAW_PRIMARY_MODEL=

# Fallback models (comma-separated list) - used when primary fails
# Example: openrouter/anthropic/claude-sonnet-4-5,google/gemini-2.5-pro
OPENCLAW_FALLBACK_MODELS=

# Primary image generation model
# Example: openai/gpt-4o-image, anthropic/claude-3-opus
OPENCLAW_IMAGE_MODEL_PRIMARY=

# Fallback image models (comma-separated list)
# Example: openai/dall-e-3,stability-ai/stable-diffusion
OPENCLAW_IMAGE_MODEL_FALLBACKS=

# =============================================================================
# Authentication (HIGHLY RECOMMENDED)
# =============================================================================
# Username for HTTP Basic Auth (default: admin)
AUTH_USERNAME=admin

# Password for HTTP Basic Auth (REQUIRED for production)
# Generate with: openssl rand -base64 32
AUTH_PASSWORD=

# =============================================================================
# Gateway Configuration
# =============================================================================
# Gateway token for API access (auto-generated if not set)
# Generate with: openssl rand -hex 32
OPENCLAW_GATEWAY_TOKEN=

# Internal gateway port (default: 18789)
OPENCLAW_GATEWAY_PORT=18789

# Gateway bind mode: loopback (default), lan, tailnet, auto, custom
# Use 'loopback' for nginx proxy (recommended)
# Use 'lan' for direct access on port 18789
OPENCLAW_GATEWAY_BIND=loopback

# Control UI allowed origins for cross-origin access (default: empty = localhost only)
# Comma-separated list of exact origin URLs (no wildcards)
# NOTE: * does NOT work as a wildcard in openclaw - specify exact origins
# Examples:
#   http://localhost:5173,http://truenas.arpa:18790 - Allow specific origins
#   http://192.168.1.100:8080                       - Allow LAN access
OPENCLAW_CONTROL_UI_ALLOWED_ORIGINS=

# Allow insecure HTTP access (no HTTPS/localhost required)
# Set to 'true' if accessing via HTTP on non-localhost addresses
# WARNING: Disables device identity verification for Control UI
OPENCLAW_CONTROL_UI_ALLOW_INSECURE_AUTH=

# =============================================================================
# Port Configuration
# =============================================================================
# External port for web interface (default: 8080)
PORT=8080

# =============================================================================
# Storage Paths (for bind mounts)
# =============================================================================
# Main data directory - persists config, sessions, skills, plugins, npm packages
# Note: The directory name should match your upstream:
#   - UPSTREAM=zeroclaw → /path/to/.zeroclaw
#   - UPSTREAM=openclaw → /path/to/.openclaw
#   - UPSTREAM=picoclaw → /path/to/.picoclaw
#   - UPSTREAM=ironclaw → /path/to/.ironclaw
OPENCLAW_DATA_DIR=/mnt/shuttle/share/app-data/zeroclaw

# Workspace directory - for agent projects
OPENCLAW_WORKSPACE_DIR=/mnt/shuttle/share/app-data/openclaw3/workspace

# Custom config file path (optional)
# OPENCLAW_CUSTOM_CONFIG=./config/openclaw.json

# Logs directory
OPENCLAW_LOGS_DIR=./logs

# =============================================================================
# Activity Logging & Admin Dashboard
# =============================================================================
# Enable activity logging (default: true)
# Logs user activities: logins, config changes, saves, etc.
ACTIVITY_LOG_ENABLED=true

# Activity log directory (default: /data/.{UPSTREAM}/activity)
# ACTIVITY_LOG_DIR=/data/.zeroclaw/activity

# Admin API port for dashboard (default: 8888)
# The admin dashboard will be available at http://localhost:8888/admin
ADMIN_API_PORT=8888

# =============================================================================
# Browser Tool Configuration (optional)
# =============================================================================
# Chrome DevTools Protocol URL for browser automation
# BROWSER_CDP_URL=http://browser:9222

# Default browser profile name
# BROWSER_DEFAULT_PROFILE=openclaw

# Enable JavaScript evaluation in browser (security risk - use with caution)
# BROWSER_EVALUATE_ENABLED=false

# Snapshot mode: full, partial, or none
# BROWSER_SNAPSHOT_MODE=

# Remote timeout in milliseconds
# BROWSER_REMOTE_TIMEOUT_MS=1500

# Remote handshake timeout in milliseconds
# BROWSER_REMOTE_HANDSHAKE_TIMEOUT_MS=3000

# =============================================================================
# Hooks (Webhook Automation - optional)
# =============================================================================
# Enable webhook hooks endpoint
# HOOKS_ENABLED=true

# Shared secret for hook request auth (required if hooks enabled)
# Generate with: openssl rand -hex 32
# HOOKS_TOKEN=

# Path prefix for hook endpoints (default: /hooks)
# HOOKS_PATH=/hooks

# =============================================================================
# WhatsApp Configuration (optional)
# =============================================================================
# Enable WhatsApp channel
# WHATSAPP_ENABLED=true

# DM access policy: pairing, allowlist, open, disabled
WHATSAPP_DM_POLICY=pairing

# Comma-separated E.164 phone numbers for DM allowlist
# Example: +1234567890,+0987654321
# WHATSAPP_ALLOW_FROM=

# Group access policy: allowlist, open, disabled
# WHATSAPP_GROUP_POLICY=allowlist

# Comma-separated group IDs for group allowlist
# WHATSAPP_GROUP_ALLOW_FROM=

# Enable when running on your personal WhatsApp number
# WHATSAPP_SELF_CHAT_MODE=false

# Maximum media size in MB
# WHATSAPP_MEDIA_MAX_MB=50

# History limit for context
# WHATSAPP_HISTORY_LIMIT=50

# =============================================================================
# Telegram Configuration (optional)
# =============================================================================
# Telegram Bot Token (get from @BotFather)
# TELEGRAM_BOT_TOKEN=

# DM access policy: pairing, allowlist, open
TELEGRAM_DM_POLICY=pairing

# Comma-separated user IDs/usernames for DM allowlist
# TELEGRAM_ALLOW_FROM=

# Group access policy: allowlist, open, disabled
# TELEGRAM_GROUP_POLICY=allowlist

# Comma-separated group IDs for group allowlist
# TELEGRAM_GROUP_ALLOW_FROM=

# =============================================================================
# Discord Configuration (optional)
# =============================================================================
# Discord Bot Token
# DISCORD_BOT_TOKEN=

# DM access policy: pairing, allowlist, open
DISCORD_DM_POLICY=pairing

# Comma-separated user IDs for DM allowlist
# DISCORD_DM_ALLOW_FROM=

# Group (server) access policy: allowlist, open, disabled
# DISCORD_GROUP_POLICY=allowlist

# =============================================================================
# Slack Configuration (optional)
# =============================================================================
# Slack Bot Token (xoxb-...)
# SLACK_BOT_TOKEN=

# Slack App Token (xapp-...)
# SLACK_APP_TOKEN=

# DM access policy: pairing, allowlist, open
# SLACK_DM_POLICY=pairing

# Group (channel) access policy: allowlist, open, disabled
# SLACK_GROUP_POLICY=open

# =============================================================================
# 1Password Integration (optional)
# =============================================================================
# 1Password Service Account Token
# OP_SERVICE_ACCOUNT_TOKEN=

# =============================================================================
# GOG/Galaxy (optional)
# =============================================================================
# GOG Keyring Password
# GOG_KEYRING_PASSWORD=

# =============================================================================
# Timezone
# =============================================================================
TZ=UTC

# =============================================================================
# Advanced Configuration
# =============================================================================
# Provider base URL overrides (for AI Gateway, etc.)
# AI_GATEWAY_BASE_URL=https://gateway.ai.cloudflare.com/v1/...
# ANTHROPIC_BASE_URL=
# MOONSHOT_BASE_URL=
# KIMI_BASE_URL=
