; =============================================================================
; Supervisord configuration for OpenClaw Docker
; Manages nginx and openclaw gateway processes
; =============================================================================

[supervisord]
nodaemon=true
user=openclaw
logfile=/var/log/supervisor/supervisord.log
pidfile=/tmp/supervisord.pid

[program:nginx]
command=nginx -g "daemon off;"
autostart=true
autorestart=true
priority=10
stdout_logfile=/var/log/supervisor/nginx.log
stderr_logfile=/var/log/supervisor/nginx-error.log

[program:openclaw]
command=openclaw gateway --port %(ENV_OPENCLAW_GATEWAY_PORT)s --bind %(ENV_OPENCLAW_GATEWAY_BIND)s
autostart=true
autorestart=true
priority=20
stdout_logfile=/var/log/supervisor/openclaw.log
stderr_logfile=/var/log/supervisor/openclaw-error.log
environment=HOME="/data/.openclaw",OPENCLAW_STATE_DIR="/data/.openclaw",OPENCLAW_WORKSPACE_DIR="/data/workspace"
